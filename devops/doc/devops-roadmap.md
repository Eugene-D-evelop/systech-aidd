# DevOps Roadmap

MVP ะฟะพะดัะพะด ะบ ัะฐะทะฒะตัััะฒะฐะฝะธั: ะพั ะปะพะบะฐะปัะฝะพะณะพ Docker ะดะพ ะฐะฒัะพะผะฐัะธัะตัะบะพะณะพ ะดะตะฟะปะพั ะฝะฐ ัะตัะฒะตั.

## ะะฑะทะพั ัะฟัะธะฝัะพะฒ

| ะะพะด | ะะฟะธัะฐะฝะธะต | ะกัะฐััั | ะะปะฐะฝ |
|-----|----------|--------|------|
| **D0** | Basic Docker Setup | โ Done | [ะะปะฐะฝ](plans/d0-basic-docker-setup.md) |
| **D1** | Build & Publish | โ Done | [ะะปะฐะฝ](plans/d1-build-publish-plan.md) |
| **D2** | Manual Server Deploy | โณ Pending | - |
| **D3** | Auto Deploy | โณ Pending | - |

**ะะตะณะตะฝะดะฐ ััะฐัััะพะฒ:**
- โณ Pending - ะฝะต ะฝะฐัะฐั
- ๐ง In Progress - ะฒ ัะฐะฑะพัะต
- โ Done - ะทะฐะฒะตััะตะฝ
- โธ๏ธ On Hold - ะฟัะธะพััะฐะฝะพะฒะปะตะฝ

---

## ะกะฟัะธะฝั D0: Basic Docker Setup

### ะฆะตะปะธ
ะะฐะฟัััะธัั ะฒัะต ัะตัะฒะธัั ะฟัะพะตะบัะฐ ะปะพะบะฐะปัะฝะพ ัะตัะตะท `docker-compose up` ะพะดะฝะพะน ะบะพะผะฐะฝะดะพะน.

### ะกะพััะฐะฒ ัะฐะฑะพั
- โ ะกะพะทะดะฐัั Dockerfile ะดะปั ััะตั ัะตัะฒะธัะพะฒ: Bot (Python+UV), API (FastAPI+UV), Frontend (Next.js+pnpm)
- โ ะะฑะฝะพะฒะธัั docker-compose.yml ะดะปั ะพัะบะตัััะฐัะธะธ 4 ัะตัะฒะธัะพะฒ: PostgreSQL, Bot, API, Frontend
- โ ะกะพะทะดะฐัั .dockerignore ัะฐะนะปั ะดะปั ะพะฟัะธะผะธะทะฐัะธะธ ัะฑะพัะบะธ
- โ ะะฐัััะพะธัั ะฒะทะฐะธะผะพะดะตะนััะฒะธะต ะผะตะถะดั ัะตัะฒะธัะฐะผะธ (networking, environment variables)
- โ ะะฑะตัะฟะตัะธัั ะบะพััะตะบัะฝะพะต ะฟัะธะผะตะฝะตะฝะธะต ะผะธะณัะฐัะธะน ะะ ะฟัะธ ััะฐััะต
- โ ะัะพะฒะตัะธัั ัะฐะฑะพัะพัะฟะพัะพะฑะฝะพััั ะฒัะตะณะพ ััะตะบะฐ ะปะพะบะฐะปัะฝะพ

### ะะตะทัะปััะฐัั
**ะกัะฐััั:** โ ะฃัะฟะตัะฝะพ ะทะฐะฒะตััะตะฝะพ (18 ะพะบััะฑัั 2025)

**ะะพััะธะถะตะฝะธั:**
- ะัะต 4 ัะตัะฒะธัะฐ (PostgreSQL, Bot, API, Frontend) ััะฟะตัะฝะพ ะทะฐะฟััะบะฐัััั ะพะดะฝะพะน ะบะพะผะฐะฝะดะพะน
- API ะดะพัััะฟะตะฝ ะฝะฐ ะฟะพััั 8000 ั ะฟะพะปะฝะพะน ะดะพะบัะผะตะฝัะฐัะธะตะน
- Frontend ะดะพัััะฟะตะฝ ะฝะฐ ะฟะพััั 3000 ะธ ะบะพััะตะบัะฝะพ ะพัะพะฑัะฐะถะฐะตััั
- ะะธะณัะฐัะธะธ ะะ ะฟัะธะผะตะฝััััั ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฟัะธ ััะฐััะต
- Hot-reload ัะฐะฑะพัะฐะตั ะดะปั ะฒัะตั ัะตัะฒะธัะพะฒ ัะตัะตะท volume mounts
- ะกะพะทะดะฐะฝ ะดะตัะฐะปัะฝัะน ะพััะตั ะพ ัะตััะธัะพะฒะฐะฝะธะธ

**ะะพะบัะผะตะฝัั:**
- [ะะปะฐะฝ ัะฟัะธะฝัะฐ D0](plans/d0-basic-docker-setup.md)
- [ะััะตั ะพ ัะตััะธัะพะฒะฐะฝะธะธ](reports/d0-testing-report.md)

---

## ะกะฟัะธะฝั D1: Build & Publish

### ะฆะตะปะธ
ะะฒัะพะผะฐัะธะทะธัะพะฒะฐัั ัะฑะพัะบั ะธ ะฟัะฑะปะธะบะฐัะธั Docker ะพะฑัะฐะทะพะฒ ะฒ GitHub Container Registry ะฟัะธ ะธะทะผะตะฝะตะฝะธัั ะฒ main ะฒะตัะบะต.

### ะกะพััะฐะฒ ัะฐะฑะพั
- โ ะกะพะทะดะฐัั GitHub Actions workflow ะดะปั CI/CD
- โ ะะฐัััะพะธัั ัะฑะพัะบั ััะตั Docker ะพะฑัะฐะทะพะฒ (bot, api, frontend)
- โ ะัะฑะปะธะบะฐัะธั ะพะฑัะฐะทะพะฒ ะฒ ghcr.io ั ัะตะณะธัะพะฒะฐะฝะธะตะผ (latest + sha)
- โ ะะฐัััะพะธัั permissions ะดะปั ะดะพัััะฟะฐ ะบ GitHub Container Registry
- โ ะะพะฑะฐะฒะธัั badges ััะฐัััะฐ ัะฑะพัะบะธ ะฒ README
- โ ะกะพะทะดะฐัั ะดะพะบัะผะตะฝัะฐัะธั ะฟะพ ะฝะฐัััะพะนะบะต GitHub Registry

### ะะตะทัะปััะฐัั
**ะกัะฐััั:** โ ะฃัะฟะตัะฝะพ ะทะฐะฒะตััะตะฝะพ (18 ะพะบััะฑัั 2025)

**ะะพััะธะถะตะฝะธั:**
- GitHub Actions workflow ะฐะฒัะพะผะฐัะธัะตัะบะธ ัะพะฑะธัะฐะตั 3 ะพะฑัะฐะทะฐ ะฟัะธ push ะฒ main
- ะะฑัะฐะทั ะฟัะฑะปะธะบััััั ะฒ ghcr.io ั public access
- Docker Compose ะดะปั production ะธัะฟะพะปัะทัะตั ะพะฑัะฐะทั ะธะท registry
- ะัะฟัะฐะฒะปะตะฝั ะบัะธัะธัะตัะบะธะต ะฟัะพะฑะปะตะผั ั Docker COPY ะธ .gitignore
- ะัะต ัะตัะฒะธัั ัะฐะฑะพัะฐัั ะธะท ะพะฟัะฑะปะธะบะพะฒะฐะฝะฝัั ะพะฑัะฐะทะพะฒ ะฑะตะท ะพัะธะฑะพะบ

**ะะพะบัะผะตะฝัั:**
- [ะะปะฐะฝ ัะฟัะธะฝัะฐ D1](plans/d1-build-publish-plan.md)
- [GitHub Actions Guide](github-actions-guide.md)
- [ะคะธะฝะฐะปัะฝัะน ะพัััั](reports/d1-final-report.md)

---

## ะกะฟัะธะฝั D2: Manual Server Deploy

### ะฆะตะปะธ
ะะฐะทะฒะตัะฝััั ะฟัะธะปะพะถะตะฝะธะต ะฝะฐ ัะดะฐะปะตะฝะฝะพะผ ัะตัะฒะตัะต ะฒัััะฝัั ะฟะพ ะฟะพัะฐะณะพะฒะพะน ะธะฝััััะบัะธะธ.

### ะกะพััะฐะฒ ัะฐะฑะพั
- ะกะพะทะดะฐัั ะดะตัะฐะปัะฝัั ะฟะพัะฐะณะพะฒัั ะธะฝััััะบัะธั ะดะปั ัััะฝะพะณะพ ัะฐะทะฒะตัััะฒะฐะฝะธั
- ะะพะดะณะพัะพะฒะธัั ัะฐะฑะปะพะฝ production ะบะพะฝัะธะณััะฐัะธะธ (.env.production)
- ะะฐัััะพะธัั SSH ะฟะพะดะบะปััะตะฝะธะต ะบ ัะตัะฒะตัั ั ะธัะฟะพะปัะทะพะฒะฐะฝะธะตะผ ะบะปััะตะน
- ะะตะฐะปะธะทะพะฒะฐัั ะฟัะพัะตัั ะทะฐะณััะทะบะธ ะพะฑัะฐะทะพะฒ ะธะท ghcr.io ะฝะฐ ัะตัะฒะตั
- ะะฐัััะพะธัั ะทะฐะฟััะบ ัะตัะฒะธัะพะฒ ัะตัะตะท docker-compose
- ะะฑะตัะฟะตัะธัั ะฟัะธะผะตะฝะตะฝะธะต ะผะธะณัะฐัะธะน ะะ ะฝะฐ production
- ะกะพะทะดะฐัั ัะบัะธะฟั ะฟัะพะฒะตัะบะธ ัะฐะฑะพัะพัะฟะพัะพะฑะฝะพััะธ ัะฐะทะฒะตัะฝัััั ัะตัะฒะธัะพะฒ

---

## ะกะฟัะธะฝั D3: Auto Deploy

### ะฆะตะปะธ
ะะฒัะพะผะฐัะธะทะธัะพะฒะฐัั ัะฐะทะฒะตัััะฒะฐะฝะธะต ะฝะฐ ัะตัะฒะตั ัะตัะตะท GitHub Actions ั ะฒะพะทะผะพะถะฝะพัััั ัััะฝะพะณะพ ะทะฐะฟััะบะฐ.

### ะกะพััะฐะฒ ัะฐะฑะพั
- ะกะพะทะดะฐัั GitHub Actions workflow ะดะปั ะฐะฒัะพะผะฐัะธัะตัะบะพะณะพ ะดะตะฟะปะพั
- ะะฐัััะพะธัั workflow_dispatch ััะธะณะณะตั ะดะปั ัััะฝะพะณะพ ะทะฐะฟััะบะฐ
- ะะตะฐะปะธะทะพะฒะฐัั SSH ะฟะพะดะบะปััะตะฝะธะต ะบ ัะตัะฒะตัั ะธะท GitHub Actions
- ะะฒัะพะผะฐัะธะทะธัะพะฒะฐัั ะฟัะพัะตัั ะพะฑะฝะพะฒะปะตะฝะธั ะพะฑัะฐะทะพะฒ ะธ ะฟะตัะตะทะฐะฟััะบะฐ ัะตัะฒะธัะพะฒ
- ะะฐัััะพะธัั GitHub Secrets ะดะปั ััะฐะฝะตะฝะธั SSH ะบะปััะตะน ะธ credentials
- ะะพะฑะฐะฒะธัั ัะฒะตะดะพะผะปะตะฝะธั ะพ ััะฐัััะต ะดะตะฟะปะพั
- ะกะพะทะดะฐัั ะดะพะบัะผะตะฝัะฐัะธั ะฟะพ ะฝะฐัััะพะนะบะต auto-deploy
- ะะพะฑะฐะฒะธัั ะบะฝะพะฟะบั Deploy ะฒ README

---

## ะััะธัะตะบัััะฐ

### ะกะตัะฒะธัั ะฟัะพะตะบัะฐ

1. **Bot** (Python + UV)
   - Telegram ะฑะพั ะดะปั ะฒะทะฐะธะผะพะดะตะนััะฒะธั ั ะฟะพะปัะทะพะฒะฐัะตะปัะผะธ
   - ะะพะดะบะปััะฐะตััั ะบ PostgreSQL ะดะปั ััะฐะฝะตะฝะธั ะดะฐะฝะฝัั

2. **API** (FastAPI + UV)
   - REST API ะดะปั ะฟัะตะดะพััะฐะฒะปะตะฝะธั ััะฐัะธััะธะบะธ ะธ ะดะฐะฝะฝัั
   - ะะฑัะปัะถะธะฒะฐะตั ะทะฐะฟัะพัั ะพั Frontend

3. **Frontend** (Next.js + pnpm)
   - ะะตะฑ-ะธะฝัะตััะตะนั ะดะปั ะฒะธะทัะฐะปะธะทะฐัะธะธ ะดะฐะฝะฝัั
   - ะะทะฐะธะผะพะดะตะนััะฒัะตั ั API

4. **PostgreSQL**
   - ะฆะตะฝััะฐะปัะฝะฐั ะฑะฐะทะฐ ะดะฐะฝะฝัั ะดะปั ะฒัะตั ัะตัะฒะธัะพะฒ

### ะะฝััะฐััััะบัััะฐ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ           GitHub Repository                 โ
โ  โโโโโโโโโโโโโโ      โโโโโโโโโโโโโโโ       โ
โ  โ   Code     โ โโโถ  โ   Actions   โ       โ
โ  โโโโโโโโโโโโโโ      โโโโโโโโฌโโโโโโโ       โ
โ                             โ               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโ
                              โ
                      Build & Publish
                              โ
                              โผ
                    โโโโโโโโโโโโโโโโโโโโ
                    โ  GitHub Registry โ
                    โ    (ghcr.io)     โ
                    โโโโโโโโโโฌโโโโโโโโโโ
                             โ
                        Pull Images
                             โ
                             โผ
                    โโโโโโโโโโโโโโโโโโโ
                    โ  Remote Server  โ
                    โ                 โ
                    โ  โโโโโโโโโโโโโ  โ
                    โ  โPostgreSQL โ  โ
                    โ  โโโโโโโฌโโโโโโ  โ
                    โ        โ        โ
                    โ  โโโโโโโดโโโโโโ  โ
                    โ  โ    Bot    โ  โ
                    โ  โ    API    โ  โ
                    โ  โ  Frontend โ  โ
                    โ  โโโโโโโโโโโโโ  โ
                    โโโโโโโโโโโโโโโโโโโ
```

---

## ะะปะฐะฝะธัะพะฒะฐะฝะธะต ะธ ะฒัะฟะพะปะฝะตะฝะธะต

1. **ะะปะฐะฝะธัะพะฒะฐะฝะธะต ัะฟัะธะฝัะฐ** ะฒัะฟะพะปะฝัะตััั ะฒ ัะตะถะธะผะต Plan Mode
2. ะะพัะปะต ะฟะปะฐะฝะธัะพะฒะฐะฝะธั ัะพะทะดะฐะตััั ัะฐะนะป `devops/doc/plans/{sprint-code}-{name}-plan.md`
3. ะกััะปะบะฐ ะฝะฐ ะฟะปะฐะฝ ะดะพะฑะฐะฒะปัะตััั ะฒ ัะฐะฑะปะธัั ัะฟัะธะฝัะพะฒ ะฒััะต
4. ะะพัะปะต ะทะฐะฒะตััะตะฝะธั ัะฟัะธะฝัะฐ ััะฐััั ะผะตะฝัะตััั ะฝะฐ โ Done

---

## ะัะธะฝัะธะฟั ัะฐะทัะฐะฑะพัะบะธ

- **MVP ะฟะพะดัะพะด**: ัะพะบัั ะฝะฐ ะฟัะพััะพัะต ะธ ัะบะพัะพััะธ ัะตะฐะปะธะทะฐัะธะธ
- **ะััััะฐั ะธัะตัะฐัะธั**: ะฝะตะฑะพะปััะธะต ัะฟัะธะฝัั ั ะบะพะฝะบัะตัะฝัะผะธ ัะตะปัะผะธ
- **ะัะฐะบัะธัะฝะพััั**: ัะฝะฐัะฐะปะฐ ะทะฐััะฐะฒะธัั ัะฐะฑะพัะฐัั, ะฟะพัะพะผ ะพะฟัะธะผะธะทะธัะพะฒะฐัั
- **ะะพะบัะผะตะฝัะธัะพะฒะฐะฝะธะต**: ะบะฐะถะดัะน ัะฐะณ ะดะพะปะถะตะฝ ะฑััั ะฒะพัะฟัะพะธะทะฒะพะดะธะผ

