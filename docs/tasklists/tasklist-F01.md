# üìã Tasklist: –°–ø—Ä–∏–Ω—Ç F01 - Mock API –¥–ª—è –¥–∞—à–±–æ—Ä–¥–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

> **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω  
> **–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞:** 2025-10-17  
> **–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 2025-10-17  
> **–í–µ—Ä—Å–∏—è:** 0.1.0

---

## üéØ –¶–µ–ª—å —Å–ø—Ä–∏–Ω—Ç–∞

–°–æ–∑–¥–∞—Ç—å —Ä–∞–±–æ—Ç–∞—é—â–∏–π Mock API endpoint –¥–ª—è –¥–∞—à–±–æ—Ä–¥–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö, –≥–æ—Ç–æ–≤—ã–π –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å frontend.

---

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

- ‚úÖ –î–æ–±–∞–≤–∏—Ç—å fastapi –∏ uvicorn –≤ pyproject.toml
- ‚úÖ –°–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å StatCollector –∏ Pydantic –º–æ–¥–µ–ª–∏ (src/stats/collector.py, src/stats/models.py)
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å MockStatCollector —Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö (src/stats/mock_collector.py)
- ‚úÖ –°–æ–∑–¥–∞—Ç—å FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å endpoint /api/stats/dashboard (src/api/app.py)
- ‚úÖ –°–æ–∑–¥–∞—Ç—å entrypoint src/api_main.py –¥–ª—è –∑–∞–ø—É—Å–∫–∞ API —Å–µ—Ä–≤–µ—Ä–∞
- ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—ã –≤ Makefile –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API (api-dev, api-test, api-docs)

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

- ‚úÖ –°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (curl/httpie –∫–æ–º–∞–Ω–¥—ã) ‚Üí `docs/api-examples.md`
- ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å API endpoint –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é Pydantic –º–æ–¥–µ–ª–µ–π
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Swagger UI –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –∏ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å OpenAPI —Å—Ö–µ–º—ã

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ —Ñ–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è

- ‚úÖ –°–æ–∑–¥–∞—Ç—å tasklist-F01.md –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —Å–ø—Ä–∏–Ω—Ç–∞
- ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å README.md —Å —Å–µ–∫—Ü–∏–µ–π –ø—Ä–æ API –∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- ‚úÖ –î–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ —ç—Ç–æ—Ç –ø–ª–∞–Ω –≤ —Ç–∞–±–ª–∏—Ü—É —Å–ø—Ä–∏–Ω—Ç–æ–≤ –≤ frontend-roadmap.md
- ‚úÖ –ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å frontend-roadmap.md –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–ø—Ä–∏–Ω—Ç–∞ (—Å—Ç–∞—Ç—É—Å F01 ‚Üí "–ó–∞–≤–µ—Ä—à–µ–Ω")

---

## üìÅ –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### Backend (API)
- `src/stats/__init__.py` - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥—É–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- `src/stats/models.py` - Pydantic –º–æ–¥–µ–ª–∏ –¥–ª—è API response
- `src/stats/collector.py` - –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å StatCollector
- `src/stats/mock_collector.py` - Mock —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –¥–∞–Ω–Ω—ã—Ö
- `src/api/__init__.py` - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è API –º–æ–¥—É–ª—è
- `src/api/app.py` - FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å endpoints
- `src/api_main.py` - Entrypoint –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- `pyproject.toml` - –æ–±–Ω–æ–≤–ª–µ–Ω (–¥–æ–±–∞–≤–ª–µ–Ω—ã fastapi –∏ uvicorn)
- `Makefile` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ–º–∞–Ω–¥—ã api-dev, api-test, api-docs

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `docs/tasklists/tasklist-F01.md` - —ç—Ç–æ—Ç —Ñ–∞–π–ª
- `docs/api-examples.md` - –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API

---

## üöÄ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ó–∞–ø—É—Å–∫ API —Å–µ—Ä–≤–µ—Ä–∞

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
make install

# –ó–∞–ø—É—Å–∫ –≤ dev —Ä–µ–∂–∏–º–µ (—Å auto-reload)
make api-dev
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
curl http://localhost:8000/

# –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –¥–∞—à–±–æ—Ä–¥–∞
curl http://localhost:8000/api/stats/dashboard

# –° —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º JSON
curl http://localhost:8000/api/stats/dashboard | python -m json.tool

# –ò–ª–∏ —á–µ—Ä–µ–∑ make –∫–æ–º–∞–Ω–¥—É
make api-test

# Health check
curl http://localhost:8000/health
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

```bash
# –û—Ç–∫—Ä—ã—Ç—å Swagger UI
make api-docs

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é
# http://localhost:8000/docs (Swagger UI)
# http://localhost:8000/redoc (ReDoc)
```

### –ü—Ä–∏–º–µ—Ä—ã —Å httpie

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ httpie (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
pip install httpie

# –ó–∞–ø—Ä–æ—Å—ã
http GET localhost:8000/api/stats/dashboard
http GET localhost:8000/health
```

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ API Response

```json
{
  "overview": {
    "total_users": 287,
    "active_users_7d": 89,
    "active_users_30d": 178,
    "total_messages": 5843,
    "messages_7d": 1247,
    "messages_30d": 3156
  },
  "users": {
    "premium_count": 43,
    "premium_percentage": 14.98,
    "regular_count": 244,
    "by_language": {
      "ru": 186,
      "en": 78,
      "uk": 15,
      "other": 8
    }
  },
  "messages": {
    "avg_length": 127.8,
    "first_message_date": "2024-04-15T10:30:45Z",
    "last_message_date": "2024-10-17T16:45:12Z",
    "user_to_assistant_ratio": 1.02
  },
  "metadata": {
    "generated_at": "2024-10-17T16:47:30Z",
    "is_mock": true
  }
}
```

---

## üé® –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### Framework –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- **Framework:** FastAPI 0.104+
- **ASGI Server:** Uvicorn (—Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π standard features)
- **–ü–æ—Ä—Ç:** 8000 (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ API_PORT)
- **Host:** 0.0.0.0 (–¥–æ—Å—Ç—É–ø —Å–æ –≤—Å–µ—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤)
- **CORS:** –ù–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å frontend (allow all origins –≤ dev —Ä–µ–∂–∏–º–µ)

### Pydantic –º–æ–¥–µ–ª–∏
- `OverviewStats` - –æ–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, —Å–æ–æ–±—â–µ–Ω–∏—è, –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å)
- `UserStats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º (Premium, —è–∑—ã–∫–∏)
- `MessageStats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Å–æ–æ–±—â–µ–Ω–∏—è–º (–¥–ª–∏–Ω–∞, –¥–∞—Ç—ã, —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏—è)
- `MetadataStats` - –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (–≤—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏, —Ñ–ª–∞–≥ Mock)
- `DashboardStats` - –∫–æ—Ä–Ω–µ–≤–∞—è –º–æ–¥–µ–ª—å, –æ–±—ä–µ–¥–∏–Ω—è—é—â–∞—è –≤—Å–µ –≤—ã—à–µ

### Mock –¥–∞–Ω–Ω—ã–µ
- –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ –¥–∏–∞–ø–∞–∑–æ–Ω—ã –∑–Ω–∞—á–µ–Ω–∏–π
- –°–æ–±–ª—é–¥–µ–Ω–∏–µ –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö —Å–≤—è–∑–µ–π –º–µ–∂–¥—É –º–µ—Ç—Ä–∏–∫–∞–º–∏
- –°–ª—É—á–∞–π–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞

### –õ–∏–Ω—Ç–µ—Ä –∏ —Ç–∏–ø–∏–∑–∞—Ü–∏—è
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞
uv run ruff check src/stats/ src/api/ src/api_main.py

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤
uv run mypy src/stats/ src/api/ src/api_main.py

# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
uv run ruff format src/stats/ src/api/ src/api_main.py
```

–†–µ–∑—É–ª—å—Ç–∞—Ç: ‚úÖ –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–π–¥–µ–Ω—ã –±–µ–∑ –æ—à–∏–±–æ–∫

---

## üéØ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

- ‚úÖ API endpoint –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ Mock –¥–∞–Ω–Ω—ã–µ
- ‚úÖ Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –∏ –∞–∫—Ç—É–∞–ª—å–Ω–∞
- ‚úÖ –ö–æ–º–∞–Ω–¥—ã Makefile —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ Pydantic –º–æ–¥–µ–ª–∏ –≤–∞–ª–∏–¥–∏—Ä—É—é—Ç –¥–∞–Ω–Ω—ã–µ
- ‚úÖ Mock –¥–∞–Ω–Ω—ã–µ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã –∏ —Å–æ–±–ª—é–¥–∞—é—Ç –ª–æ–≥–∏—á–µ—Å–∫–∏–µ —Å–≤—è–∑–∏
- ‚úÖ README –æ–±–Ω–æ–≤–ª–µ–Ω —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- ‚úÖ –ö–æ–¥ –ø—Ä–æ—Ö–æ–¥–∏—Ç ruff –∏ mypy –ø—Ä–æ–≤–µ—Ä–∫–∏
- ‚úÖ –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã (api-examples.md)
- ‚úÖ Frontend roadmap –æ–±–Ω–æ–≤–ª–µ–Ω —Å–æ —Å—Å—ã–ª–∫–∞–º–∏ –Ω–∞ –ø–ª–∞–Ω –∏ tasklist

---

## üîÆ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ —Å–ø—Ä–∏–Ω—Ç–∞:

1. **Sprint F02** - –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ä–∫–∞—Å–∞ frontend –ø—Ä–æ–µ–∫—Ç–∞
2. **Sprint F03** - –†–µ–∞–ª–∏–∑–∞—Ü–∏—è Dashboard —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π Mock API
3. **Sprint F04** - –†–µ–∞–ª–∏–∑–∞—Ü–∏—è AI-—á–∞—Ç–∞ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
4. **Sprint F05** - –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π API —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π –ë–î

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –¢—Ä–µ–±—É–µ—Ç—Å—è Python 3.11+
- –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ `uv` (pyproject.toml)
- FastAPI –∏ Uvicorn –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ –æ—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
# –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ API —Å–µ—Ä–≤–µ—Ä–∞
API_HOST=0.0.0.0    # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é 0.0.0.0
API_PORT=8000        # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é 8000
API_RELOAD=true      # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é true (auto-reload –≤ dev —Ä–µ–∂–∏–º–µ)
```

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è
- **Dependency Injection** - StatCollector –≤–Ω–µ–¥—Ä—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ FastAPI Depends
- **–ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è** - –ª–µ–≥–∫–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É Mock –∏ Real —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è–º–∏
- **CORS** - –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å frontend (–≤ production –Ω—É–∂–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å)
- **OpenAPI** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏–∑ Pydantic –º–æ–¥–µ–ª–µ–π

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-10-17  
**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 2025-10-17  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≤–µ—Ä—à–µ–Ω –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω

