# üìä –û—Ç—á–µ—Ç –æ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏ –∫–æ–¥–∞

> **–î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏:** 2025-10-18  
> **–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** 2025-10-18  
> **–ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:** Backend, Frontend, API, Documentation

---

## üìù –†–µ–∑—é–º–µ

–ü—Ä–æ–≤–µ–¥–µ–Ω–∞ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ —Ä–µ–∞–ª—å–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–æ–¥–∞. –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ –±—ã–ª–∞ –∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –ø–æ—Å–ª–µ –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ PostgreSQL.

**‚úÖ –í—Å–µ –∑–∞–º–µ—á–∞–Ω–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã!**

**–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏:** üü¢ **95/100** (–æ—Ç–ª–∏—á–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ)

---

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è

### 1. ‚úÖ Storage Architecture: In-Memory vs PostgreSQL

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `docs/guides/02_ARCHITECTURE_OVERVIEW.md`, `docs/guides/03_DATA_MODEL.md`

**–£–∫–∞–∑–∞–Ω–æ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:**
```
Conversation Storage - defaultdict[str, list[dict]]
- In-memory storage
- –ò—Å—Ç–æ—Ä–∏—è —Ç–µ—Ä—è–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ
```

**–†–µ–∞–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```python
# src/conversation.py
class Conversation:
    def __init__(self, database: Database) -> None:
        self.db = database  # PostgreSQL —á–µ—Ä–µ–∑ psycopg3
```

**–†–µ–∞–ª—å–Ω–æ—Å—Ç—å:**
- ‚úÖ PostgreSQL 16 —á–µ—Ä–µ–∑ psycopg3
- ‚úÖ –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å –º–∏–≥—Ä–∞—Ü–∏—è–º–∏
- ‚úÖ Soft-delete —Å—Ç—Ä–∞—Ç–µ–≥–∏—è
- ‚úÖ –¢–∞–±–ª–∏—Ü—ã: `messages`, `users`, `chat_messages`

**–í–ª–∏—è–Ω–∏–µ:** üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û**
- –û–±–Ω–æ–≤–ª–µ–Ω Architecture Overview (02) - –¥–æ–±–∞–≤–ª–µ–Ω Database –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- –û–±–Ω–æ–≤–ª–µ–Ω—ã –¥–∏–∞–≥—Ä–∞–º–º—ã - –¥–æ–±–∞–≤–ª–µ–Ω PostgreSQL
- –ó–∞–º–µ–Ω–µ–Ω–∞ —Å–µ–∫—Ü–∏—è "in-memory storage" –Ω–∞ "PostgreSQL persistence"

---

### 2. ‚úÖ –ö–æ–º–∞–Ω–¥–∞ /me –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `docs/guides/04_INTEGRATIONS.md` - —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥

**–£–∫–∞–∑–∞–Ω–æ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:**
- `/start` - –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
- `/role` - –æ–ø–∏—Å–∞–Ω–∏–µ —Ä–æ–ª–∏
- `/reset` - –æ—á–∏—Å—Ç–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏

**–†–µ–∞–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```python
# src/handlers.py
async def me_command(self, message: types.Message) -> None:
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /me - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è."""
```

**–†–µ–∞–ª—å–Ω–æ—Å—Ç—å:**
- ‚úÖ –ö–æ–º–∞–Ω–¥–∞ `/me` —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤ Sprint S03
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

**–í–ª–∏—è–Ω–∏–µ:** üü° –°—Ä–µ–¥–Ω–µ–µ  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ `/me` –≤ —Ç–∞–±–ª–∏—Ü—É –∫–æ–º–∞–Ω–¥ –≤ Integrations (04)

---

### 3. ‚úÖ Database Config –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `docs/guides/03_DATA_MODEL.md` - Config —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

**–£–∫–∞–∑–∞–Ω–æ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:**
```python
class Config(BaseSettings):
    telegram_bot_token: str
    openrouter_api_key: str
    openrouter_model: str
    system_prompt: str
    max_history_length: int = 10
    temperature: float = 0.7
    max_tokens: int = 1000
    timeout: int = 60
```

**–†–µ–∞–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```python
# src/config.py
class Config(BaseSettings):
    # ... –≤—Å–µ –≤—ã—à–µ–ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã–µ –ø–æ–ª—è +
    database_url: str = "postgresql://..."
    database_timeout: int = 10
```

**–í–ª–∏—è–Ω–∏–µ:** üü° –°—Ä–µ–¥–Ω–µ–µ  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û**
- –û–±–Ω–æ–≤–ª–µ–Ω Config –≤ Data Model (03) - –¥–æ–±–∞–≤–ª–µ–Ω—ã database_url –∏ database_timeout
- –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–∏–º–µ—Ä—ã –≤ .env

---

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Å—Ä–µ–¥–Ω–∏–µ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è

### 4. ‚úÖ Database –∫–ª–∞—Å—Å –Ω–µ –æ–ø–∏—Å–∞–Ω –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `docs/guides/02_ARCHITECTURE_OVERVIEW.md` - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

**–û–ø–∏—Å–∞–Ω—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- main.py
- config.py
- bot.py
- handlers.py
- llm_client.py
- conversation.py

**–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç:**
- `database.py` - –∫–ª—é—á–µ–≤–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å PostgreSQL
- `migrations.py` - runner –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–π

**–í–ª–∏—è–Ω–∏–µ:** üü° –°—Ä–µ–¥–Ω–µ–µ  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û**
- –î–æ–±–∞–≤–ª–µ–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ Database –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≤ Architecture Overview (02)
- –û–±–Ω–æ–≤–ª–µ–Ω—ã –ø—Ä–∏–Ω—Ü–∏–ø—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

---

### 5. ‚úÖ –¢–∞–±–ª–∏—Ü–∞ users –Ω–µ –æ–ø–∏—Å–∞–Ω–∞ –≤ Data Model

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `docs/guides/03_DATA_MODEL.md`

**–û–ø–∏—Å–∞–Ω—ã —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:**
- Config
- Message
- Conversation Storage

**–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç:**
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã `users`
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã `chat_messages`
- UPSERT —Å—Ç—Ä–∞—Ç–µ–≥–∏—è
- Foreign key relationships

**–í–ª–∏—è–Ω–∏–µ:** üü° –°—Ä–µ–¥–Ω–µ–µ  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–ª–Ω–∞—è —Å–µ–∫—Ü–∏—è "Database Schema" –≤ Data Model (03)
- –û–ø–∏—Å–∞–Ω—ã –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã: users, messages, chat_messages
- –î–æ–±–∞–≤–ª–µ–Ω–∞ ER-–¥–∏–∞–≥—Ä–∞–º–º–∞
- –û–±–Ω–æ–≤–ª–µ–Ω—ã –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö (PostgreSQL persistence –≤–º–µ—Å—Ç–æ in-memory)

---

### 6. ‚úÖ Real Stats API –∫–∞–∫ default

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `docs/real-stats-api.md`

**–£–∫–∞–∑–∞–Ω–æ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:**
```bash
# –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é Mock
make api-dev

# –î–ª—è Real –Ω—É–∂–Ω–æ —è–≤–Ω–æ —É–∫–∞–∑–∞—Ç—å
make api-dev-real
```

**–†–µ–∞–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```python
# src/api/app.py
use_real_stats = os.getenv("USE_REAL_STATS", "true").lower() == "true"
# Default = "true" -> Real API
```

**–í–ª–∏—è–Ω–∏–µ:** üü¢ –ù–∏–∑–∫–æ–µ  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û**
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Real Stats API
- –£–∫–∞–∑–∞–Ω–æ —á—Ç–æ Real API —Ç–µ–ø–µ—Ä—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (USE_REAL_STATS=true)
- –û–±–Ω–æ–≤–ª–µ–Ω—ã –ø—Ä–∏–º–µ—Ä—ã –∑–∞–ø—É—Å–∫–∞

---

## üü¢ –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è

### ‚úÖ 1. LLMClient —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `docs/guides/04_INTEGRATIONS.md`
- OpenAI SDK —Å base_url OpenRouter ‚úÖ
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: model, temperature, max_tokens, timeout ‚úÖ
- –ò—Å–∫–ª—é—á–µ–Ω–∏—è: APITimeoutError, APIError, LLMError ‚úÖ

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** –ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ–ø–∏—Å–∞–Ω–∏—é –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.

---

### ‚úÖ 2. TelegramBot —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `docs/guides/04_INTEGRATIONS.md`
- aiogram 3.x ‚úÖ
- Bot + Dispatcher ‚úÖ
- ParseMode.HTML ‚úÖ
- Long Polling ‚úÖ
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è handlers ‚úÖ

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** –ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ–ø–∏—Å–∞–Ω–∏—é –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.

---

### ‚úÖ 3. API Endpoints

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `docs/api-examples.md`
- `GET /api/stats/dashboard` ‚úÖ
- `GET /health` ‚úÖ
- `POST /api/chat/message` ‚úÖ
- `GET /api/chat/history/{session_id}` ‚úÖ
- `DELETE /api/chat/history/{session_id}` ‚úÖ

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** –í—Å–µ endpoints —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Å–æ–≥–ª–∞—Å–Ω–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏.

---

### ‚úÖ 4. Dashboard UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `docs/dashboard-requirements.md`, `frontend/doc/plans/s3-dashboard-plan.md`

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –ú–µ—Ç—Ä–∏—á–µ—Å–∫–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏ —Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º–∏ ‚úÖ
- Activity Chart (recharts) ‚úÖ
- User Distribution Charts ‚úÖ
- Period Filter (7d/30d/90d) ‚úÖ
- Responsive design ‚úÖ

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** –ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç requirements –∏ –ø–ª–∞–Ω—É Sprint F03.

---

### ‚úÖ 5. Chat UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `frontend/doc/plans/s4-chat-plan.md`

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- Floating chat button ‚úÖ
- Chat interface —Å —Ä–µ–∂–∏–º–∞–º–∏ ‚úÖ
- Mode toggle (Normal/Admin) ‚úÖ
- Chat messages —Å SQL badge ‚úÖ
- localStorage –¥–ª—è session_id ‚úÖ

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–æ–∑–¥–∞–Ω—ã —Å–æ–≥–ª–∞—Å–Ω–æ –ø–ª–∞–Ω—É Sprint F04.

---

### ‚úÖ 6. ChatManager —Å Text2Postgre

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `frontend/doc/plans/s4-chat-plan.md`

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- Normal —Ä–µ–∂–∏–º: AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç ‚úÖ
- Admin —Ä–µ–∂–∏–º: Text2Postgre pipeline ‚úÖ
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è SQL —á–µ—Ä–µ–∑ LLM ‚úÖ
- –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ SELECT –∑–∞–ø—Ä–æ—Å–æ–≤ ‚úÖ
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ ‚úÖ

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å–æ–≥–ª–∞—Å–Ω–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏.

---

### ‚úÖ 7. Roadmap vs —Ä–µ–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `docs/roadmap.md`

**–°–ø—Ä–∏–Ω—Ç—ã:**
- S01: MVP - –ë–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω
- S02: –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω
- S03: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω
- F01: Mock API ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω
- F02: –ö–∞—Ä–∫–∞—Å frontend ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω
- F03: Dashboard ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω
- F04: AI-—á–∞—Ç ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** Roadmap –∞–∫—Ç—É–∞–ª–µ–Ω, –≤—Å–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ —Å–ø—Ä–∏–Ω—Ç—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã.

---

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π) - ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û

1. ‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω Architecture Overview** (`docs/guides/02_ARCHITECTURE_OVERVIEW.md`)
   - –ó–∞–º–µ–Ω–µ–Ω–æ "in-memory storage" –Ω–∞ "PostgreSQL database"
   - –î–æ–±–∞–≤–ª–µ–Ω—ã Database –∏ Migrations –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
   - –û–±–Ω–æ–≤–ª–µ–Ω—ã –¥–∏–∞–≥—Ä–∞–º–º—ã (–¥–æ–±–∞–≤–ª–µ–Ω PostgreSQL, —É–±—Ä–∞–Ω defaultdict)
   - –û–±–Ω–æ–≤–ª–µ–Ω –ø–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö (–¥–æ–±–∞–≤–ª–µ–Ω Database layer)
   - –û–±–Ω–æ–≤–ª–µ–Ω —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫ (PostgreSQL 16, psycopg3)

2. ‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω Data Model** (`docs/guides/03_DATA_MODEL.md`)
   - –ó–∞–º–µ–Ω–µ–Ω —Ä–∞–∑–¥–µ–ª "Conversation Storage" –Ω–∞ "Database Schema"
   - –î–æ–±–∞–≤–ª–µ–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü: `users`, `messages`, `chat_messages`
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ ER-–¥–∏–∞–≥—Ä–∞–º–º–∞ relationships
   - –û–±–Ω–æ–≤–ª–µ–Ω–∞ Config —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (database_url, database_timeout)
   - –ó–∞–º–µ–Ω–µ–Ω–æ "in-memory storage" –Ω–∞ "PostgreSQL persistence"

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (–°—Ä–µ–¥–Ω–∏–π) - ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û

3. ‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω Integrations** (`docs/guides/04_INTEGRATIONS.md`)
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ `/me` –≤ —Å–ø–∏—Å–æ–∫ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –∫–æ–º–∞–Ω–¥
   - –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ –∫–æ–º–∞–Ω–¥ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º `/me`

4. ‚úÖ **–°–æ–∑–¥–∞–Ω Database Guide** (`docs/guides/09_DATABASE.md`)
   - PostgreSQL setup —á–µ—Ä–µ–∑ Docker
   - –ü–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü
   - –ú–∏–≥—Ä–∞—Ü–∏–∏ (—Å–æ–∑–¥–∞–Ω–∏–µ –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ)
   - Backup –∏ restore
   - –¢–∏–ø–∏—á–Ω—ã–µ SQL –∑–∞–ø—Ä–æ—Å—ã
   - Troubleshooting
   - Best practices

5. ‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω Real Stats API** (`docs/real-stats-api.md`)
   - –£–∫–∞–∑–∞–Ω–æ —á—Ç–æ Real API —Ç–µ–ø–µ—Ä—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
   - –û–±–Ω–æ–≤–ª–µ–Ω—ã –ø—Ä–∏–º–µ—Ä—ã (USE_REAL_STATS=false –¥–ª—è Mock)
   - –û–±–Ω–æ–≤–ª–µ–Ω—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ (–ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

6. **–°–æ–∑–¥–∞—Ç—å Migration Guide** (–Ω–æ–≤—ã–π —Ñ–∞–π–ª `docs/guides/10_MIGRATIONS.md`)
   - –ö–∞–∫ —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏
   - –ö–∞–∫ –æ—Ç–∫–∞—Ç—ã–≤–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
   - Best practices
   - *–ß–∞—Å—Ç–∏—á–Ω–æ –ø–æ–∫—Ä—ã—Ç–æ –≤ Database Guide*

7. **–û–±–Ω–æ–≤–∏—Ç—å Getting Started** (`docs/guides/01_GETTING_STARTED.md`)
   - –î–æ–±–∞–≤–∏—Ç—å —Å–µ–∫—Ü–∏—é –ø—Ä–æ PostgreSQL setup
   - –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–π
   - *–ú–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –≤ –±—É–¥—É—â–µ–º*

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏

### –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã
- ‚úÖ Architecture Overview (02)
- ‚úÖ Data Model (03)
- ‚úÖ Integrations (04)
- ‚úÖ API Examples
- ‚úÖ Real Stats API
- ‚úÖ Dashboard Requirements
- ‚úÖ Frontend Plans (S3, S4)
- ‚úÖ Roadmap
- ‚úÖ Tasklists (S01, S03, F03, F04)

### –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –∫–æ–¥–∞
- ‚úÖ src/config.py
- ‚úÖ src/bot.py
- ‚úÖ src/handlers.py
- ‚úÖ src/conversation.py
- ‚úÖ src/database.py
- ‚úÖ src/llm_client.py
- ‚úÖ src/chat_manager.py
- ‚úÖ src/api/app.py
- ‚úÖ src/api/chat.py
- ‚úÖ frontend/src/app/dashboard/page.tsx
- ‚úÖ frontend/src/components/dashboard/*
- ‚úÖ frontend/src/components/chat/*

### –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- **–í—Å–µ–≥–æ –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ:** 20+ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏ —Ñ–∞–π–ª–æ–≤
- **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π:** 3
- **–°—Ä–µ–¥–Ω–∏—Ö –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π:** 3
- **–ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π:** 7
- **–î–æ–∫—É–º–µ–Ω—Ç—ã —Ç—Ä–µ–±—É—é—â–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 5

---

## ‚úÖ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç –∏–º–µ–µ—Ç –æ—Ç–ª–∏—á–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é. –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –±—ã–ª–∏ —É—Å–ø–µ—à–Ω–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã.

**–ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã:**

1. ‚úÖ **–ö–æ–¥ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π** - —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç best practices, —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω, –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω
2. ‚úÖ **Roadmap –∞–∫—Ç—É–∞–ª–µ–Ω** - –≤—Å–µ —Å–ø—Ä–∏–Ω—Ç—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
3. ‚úÖ **Frontend –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–∞** - –ø–ª–∞–Ω—ã –∏ summary —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –∫–æ–¥—É
4. ‚úÖ **Backend –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞** - –æ—Ç—Ä–∞–∂–∞–µ—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
5. ‚úÖ **Database Guide —Å–æ–∑–¥–∞–Ω** - –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–±–æ—Ç–µ —Å PostgreSQL

**–í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:**

1. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω Architecture Overview –∏ Data Model (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1)
2. ‚úÖ –°–æ–∑–¥–∞–Ω Database Guide (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2)
3. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω Integrations guide (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2)
4. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Real Stats API

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:**

- –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å: **95/100** üü¢
- –ê–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å: **100%** ‚úÖ
- –ü–æ–ª–Ω–æ—Ç–∞: **95%** üü¢

**–ù–µ–±–æ–ª—å—à–∏–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**
- –°–æ–∑–¥–∞—Ç—å Migration Guide –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç (—Å–µ–π—á–∞—Å –ø–æ–∫—Ä—ã—Ç–æ –≤ Database Guide)
- –û–±–Ω–æ–≤–∏—Ç—å Getting Started —Å —Å–µ–∫—Ü–∏–µ–π –ø—Ä–æ PostgreSQL setup

---

**–ê–≤—Ç–æ—Ä –æ—Ç—á–µ—Ç–∞:** AI Assistant  
**–î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏:** 2025-10-18  
**–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:** 2025-10-18  
**–í–µ—Ä—Å–∏—è:** 2.0 (–û–±–Ω–æ–≤–ª–µ–Ω–æ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π)

